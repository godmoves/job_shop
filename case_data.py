import numpy as np

# A virtual machine is added at the beginning, same for all cases
MACHINES = np.array([1, 1, 2, 3, 3, 3, 2, 2, 4, 1, 1])
STAGES = len(MACHINES)
CASE_NUM = 5

JOB_NUM = dict()
JOB_NUM[1] = 5
JOB_NUM[2] = 3
JOB_NUM[3] = 5
JOB_NUM[4] = 4
JOB_NUM[5] = 4

MIN_BATCH = dict()
MIN_BATCH[1] = 100
MIN_BATCH[2] = 50
MIN_BATCH[3] = 10
MIN_BATCH[4] = 50
MIN_BATCH[5] = 100

PROCESS_TIME = dict()
PROCESS_TIME[1] = np.array([[175, 324, 389, 342, 472, 431, 260, 666, 120, 180],
                            [170, 280, 300, 380, 0, 0, 240, 644, 0, 195],
                            [180, 0, 370, 390, 400, 515, 0, 710, 150, 140],
                            [190, 320, 0, 0, 413, 414, 322, 0, 190, 100],
                            [170, 364, 312, 366, 446, 434, 280, 648, 122, 186]])
PROCESS_TIME[2] = np.array([[275, 120, 142, 0, 215, 316, 291, 514, 0, 101],
                            [170, 240, 84, 96, 0, 0, 158, 0, 344, 94],
                            [364, 0, 78, 199, 474, 0, 122, 612, 122, 210]])
PROCESS_TIME[3] = np.array([[102, 218, 126, 178, 414, 321, 180, 400, 260, 90],
                            [100, 0, 48, 164, 0, 0, 240, 644, 0, 195],
                            [180, 314, 0, 390, 400, 515, 0, 710, 150, 140],
                            [84, 198, 0, 0, 153, 144, 332, 0, 460, 100],
                            [127, 264, 444, 0, 326, 418, 0, 368, 94, 212]])
PROCESS_TIME[4] = np.array([[98, 156, 38, 86, 47, 0, 60, 159, 42, 78],
                            [70, 28, 101, 64, 144, 122, 81, 246, 111, 42],
                            [80, 0, 37, 90, 89, 84, 72, 0, 0, 278],
                            [42, 0, 0, 187, 189, 224, 122, 146, 78, 10]])
PROCESS_TIME[5] = np.array([[289, 444, 322, 0, 682, 478, 124, 108, 0, 104],
                            [86, 122, 347, 128, 321, 0, 0, 361, 0, 100],
                            [580, 362, 0, 261, 149, 266, 433, 0, 460, 400],
                            [111, 0, 0, 155, 322, 314, 292, 0, 290, 200]])

CHANGE_TIME = dict()
CHANGE_TIME[1] = np.array([[[0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 3, 1, 1, 0, 0, 4, 1, 0, 3], [1, 0, 1, 2, 2, 4, 0, 2, 1, 2], [1, 1, 0, 0, 2, 2, 4, 0, 3, 2], [1, 1, 2, 4, 3, 1, 4, 5, 3, 1]],
                           [[1, 3, 2, 1, 0, 0, 1, 2, 0, 4], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 4, 4, 0, 0, 0, 3, 0, 1], [1, 3, 0, 0, 0, 0, 4, 0, 0, 7], [1, 3, 7, 1, 0, 0, 6, 4, 0, 1]],
                           [[1, 0, 1, 4, 3, 2, 0, 1, 2, 4], [1, 0, 3, 4, 0, 0, 0, 1, 0, 1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 0, 4, 5, 0, 1, 3, 2], [1, 0, 5, 4, 2, 2, 0, 6, 1, 4]],
                           [[1, 2, 0, 0, 4, 4, 1, 0, 2, 3], [1, 2, 0, 0, 0, 0, 3, 0, 0, 6], [1, 0, 0, 0, 4, 5, 0, 0, 2, 2], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 0, 0, 5, 5, 2, 0, 1, 6]],
                           [[1, 1, 2, 3, 3, 2, 4, 5, 1, 3], [1, 3, 6, 2, 0, 0, 7, 1, 0, 4], [1, 0, 6, 7, 2, 2, 0, 1, 1, 2], [1, 1, 0, 0, 4, 4, 3, 0, 2, 7], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]])
CHANGE_TIME[2] = np.array([[[0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 1, 1, 0, 0, 0, 2, 0, 0, 2], [1, 0, 1, 0, 2, 0, 1, 2, 0, 2]],
                           [[2, 1, 1, 0, 0, 0, 1, 0, 0, 2], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 0, 4, 3, 0, 0, 1, 0, 2, 1]],
                           [[2, 0, 1, 0, 1, 0, 2, 3, 0, 1], [2, 0, 3, 4, 0, 0, 3, 0, 1, 2], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]])
CHANGE_TIME[3] = np.array([[[0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 1, 1, 0, 0, 4, 1, 0, 3], [1, 1, 0, 2, 2, 4, 0, 2, 2, 2], [2, 1, 0, 0, 2, 1, 3, 0, 1, 4], [1, 2, 1, 0, 2, 1, 0, 4, 3, 2]],
                           [[1, 0, 2, 1, 0, 0, 1, 3, 0, 4], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 0, 0, 4, 0, 0, 0, 3, 0, 2], [2, 0, 0, 0, 0, 0, 4, 0, 0, 5], [2, 0, 7, 0, 0, 0, 0, 4, 0, 2]],
                           [[1, 4, 0, 2, 2, 1, 0, 2, 2, 2], [1, 0, 0, 5, 0, 0, 0, 3, 0, 2], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 2, 0, 0, 4, 5, 0, 0, 3, 2], [1, 1, 0, 0, 3, 2, 0, 0, 5, 4]],
                           [[3, 2, 0, 0, 1, 2, 2, 0, 2, 4], [1, 0, 0, 0, 0, 0, 3, 0, 0, 6], [3, 1, 0, 0, 5, 5, 0, 0, 3, 1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 2, 0, 0, 5, 6, 0, 0, 1, 4]],
                           [[1, 2, 1, 0, 2, 1, 0, 4, 3, 2], [1, 0, 6, 0, 0, 0, 0, 5, 0, 2], [4, 1, 0, 0, 3, 2, 0, 0, 5, 1], [2, 1, 0, 0, 4, 6, 0, 0, 2, 2], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]])
CHANGE_TIME[4] = np.array([[[0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [2, 3, 1, 1, 2, 0, 4, 1, 1, 3], [1, 0, 1, 2, 2, 0, 2, 0, 0, 2], [1, 0, 0, 1, 2, 1, 4, 0, 3, 2]],
                           [[1, 2, 1, 2, 1, 0, 5, 2, 3, 1], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 4, 4, 2, 2, 1, 0, 0, 1], [1, 0, 0, 2, 1, 1, 4, 4, 1, 7]],
                           [[2, 0, 2, 1, 1, 0, 2, 0, 0, 2], [2, 0, 4, 4, 3, 2, 2, 0, 0, 2], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 2, 4, 5, 1, 0, 0, 2]],
                           [[2, 0, 0, 3, 2, 1, 4, 0, 3, 4], [1, 0, 0, 3, 2, 2, 2, 1, 1, 5], [1, 0, 0, 1, 5, 5, 3, 0, 0, 2], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]])
CHANGE_TIME[5] = np.array([[[0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 3, 1, 0, 2, 0, 0, 4, 0, 3], [1, 2, 0, 0, 2, 4, 2, 0, 0, 2], [1, 0, 0, 0, 2, 2, 4, 0, 0, 2]],
                           [[1, 3, 1, 0, 2, 0, 0, 4, 0, 3], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 2, 0, 4, 1, 0, 0, 0, 0, 1], [1, 0, 0, 2, 3, 0, 0, 0, 0, 7]],
                           [[2, 3, 0, 0, 4, 1, 1, 0, 0, 1], [3, 1, 0, 1, 4, 0, 0, 0, 0, 3], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0], [1, 0, 0, 1, 4, 5, 2, 0, 3, 2]],
                           [[3, 0, 0, 0, 1, 1, 5, 0, 0, 1], [1, 0, 0, 2, 3, 0, 0, 0, 0, 6], [2, 0, 0, 4, 1, 3, 1, 0, 2, 3], [0, 0, 0, 0, 0, 0, 0, 0, 0, 0]]])

# We split each job into several minibatches
JOBS = dict()
JOBS[1] = [[100, 100, 100, 100],
           [100, 100, 100, 100, 100],
           [100, 100, 100, 100, 100, 100, 100, 100],
           [100, 100, 100, 100, 100],
           [100, 100, 100, 100]]
JOBS[2] = [[50, 50, 50, 50, 50, 50],
           [50, 50, 50],
           [50, 50, 50, 50]]
JOBS[3] = [[10, 10, 10],
           [10, 10, 10, 10, 10],
           [10, 10, 10, 10, 10, 10],
           [10, 10, 10, 10, 10],
           [10, 10, 10, 10]]
JOBS[4] = [[50, 50, 50, 50],
           [50, 50, 50, 50, 50],
           [50, 50, 50, 50],
           [50, 50]]
JOBS[5] = [[100, 100, 100, 100, 100, 100],
           [100, 100],
           [100, 100, 100],
           [100, 100, 100, 100]]

MAX_BATCH_NUM = dict()
MAX_BATCH_NUM[1] = max(map(len, JOBS[1]))
MAX_BATCH_NUM[2] = max(map(len, JOBS[2]))
MAX_BATCH_NUM[3] = max(map(len, JOBS[3]))
MAX_BATCH_NUM[4] = max(map(len, JOBS[4]))
MAX_BATCH_NUM[5] = max(map(len, JOBS[5]))

WORK_INDEX = dict()
WORK_INDEX[1] = [0, 0, 0, 0, 0, 0, 1000000, 0, 0, 2000000, 0]
WORK_INDEX[2] = [0, 0, 0, 500000, 0, 0, 0, 1000000, 0, 0, 0]
WORK_INDEX[3] = [0, 100000, 0, 0, 0, 0, 0, 0, 200000, 0, 0]
WORK_INDEX[4] = [0, 0, 0, 0, 300000, 500000, 0, 0, 0, 0, 0]
WORK_INDEX[5] = [0, 0, 1000000, 0, 0, 0, 0, 0, 0, 0, 2000000]

FIX_INDEX = dict()
FIX_INDEX[1] = [0, 0, 0, 0, 0, 0, 10000, 0, 0, 15000, 0]
FIX_INDEX[2] = [0, 0, 0, 10000, 0, 0, 0, 10000, 0, 0, 0]
FIX_INDEX[3] = [0, 5000, 0, 0, 0, 0, 0, 0, 5000, 0, 0]
FIX_INDEX[4] = [0, 0, 0, 0, 2000, 5000, 0, 0, 0, 0, 0]
FIX_INDEX[5] = [0, 0, 10000, 0, 0, 0, 0, 0, 0, 0, 10000]
